<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="Content-Security-Policy" content="default-src gap://ready file://* *; style-src 'self' http://* https://* 'unsafe-inline'; script-src 'self' http://* https://* 'unsafe-inline' 'unsafe-eval'; img-src 'self' data: http://* https://* 'unsafe-inline' 'unsafe-eval'">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

      <title>Visitor counter MQTT</title>
      <link rel="stylesheet" href="style.css">
      
      <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.js" type="text/javascript"></script>
      <script src="./mqtt.js" type="text/javascript"></script>
      <script src="{{ url_for('static', filename='mqtt.js') }}" type="text/javascript"></script>

   </head>
   <body>
      <div class="wrapper">
         <h1 id="Main_heading"> <b>Visitor counter user interface</b></h1><br><br>
         <div><img id="image"></div>
         <div class="container" id="stats">
            <div><p class="info"><b>FPS</b>: <span id="fps"></span></p></div>
            <div><p class="info"><b>Uplist</b>:<span id="uplist"></span></p></div>
            <div><p class="info"><b>Downlist</b>:<span id="downlist"></span></p></div>

         </div>
         <form class="container" id="connection-form">
            <input id="host" type="text" name="host" value = "{{host}}" placeholder="broker address">
            <input id="port" type="text" name="port" value="8080", placeholder="broker port (8080)">
            <input id="topic_s" type="text" name="topic_s" value = "#" placeholder="topic eg. #">
            <input id="username" type="text" name="Username" placeholder="Username">
            <input id="password" type="password" name="password" placeholder="password">
            <input id="connectbtn" type="button" style="display:inline" onclick="startConnect()"  value="Connect">
            <input id="disconnectbtn" type="button" style="display:none" onclick="startDisconnect()" value="Disconnect"> <br>
         </form>
         <form class="container" id="messaging-form"></form>   
            <input id="topic_p" type="text" name="topic_p" placeholder="Publish topic">
            <input id="Message" type="text" name="message"  placeholder="Message">
            <input type="button" onclick="publishMessage()" value="Publish">
         </form>
         <div id="messages"></div>

      </div>
   </body>
</html>
